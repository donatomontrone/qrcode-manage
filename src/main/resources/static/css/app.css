/* QR Manager - Custom CSS */
/* Completamento stili per funzionalit√† avanzate */

/* ==========================================
   VARIABILI CSS PERSONALIZZATE
   ========================================== */
:root {
    --primary-teal: #0d9488;
    --primary-cyan: #06b6d4;
    --success: #10b981;
    --warning: #f59e0b;
    --error: #ef4444;
    --text-primary: #1f2937;
    --text-secondary: #6b7280;
    --border: #e5e7eb;
    --bg-overlay: rgba(0, 0, 0, 0.5);
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Dark mode variables */
.dark {
    --text-primary: #f9fafb;
    --text-secondary: #d1d5db;
    --border: #374151;
    --bg-overlay: rgba(0, 0, 0, 0.7);
}

/* ==========================================
   TRANSIZIONI SMOOTH
   ========================================== */
* {
    transition: var(--transition);
}

/* ==========================================
   HEADER E NAVIGATION
   ========================================== */
.nav-link.active {
    @apply text-teal-600 font-medium relative;
}

.nav-link.active::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 2px;
    background: linear-gradient(90deg, var(--primary-teal), var(--primary-cyan));
    border-radius: 1px;
}

/* ==========================================
   DROPDOWN ANIMATIONS
   ========================================== */
.dropdown-enter {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
}

.dropdown-enter-active {
    opacity: 1;
    transform: translateY(0) scale(1);
    transition: var(--transition);
}

.dropdown-exit {
    opacity: 1;
    transform: translateY(0) scale(1);
}

.dropdown-exit-active {
    opacity: 0;
    transform: translateY(-10px) scale(0.95);
    transition: var(--transition);
}

/* ==========================================
   MOBILE MENU ANIMATIONS
   ========================================== */
#mobileMenu {
    transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

#mobileMenu a {
    opacity: 0;
    animation: slideInFromLeft 0.3s ease-out forwards;
}

#mobileMenu a:nth-child(1) { animation-delay: 0.1s; }
#mobileMenu a:nth-child(2) { animation-delay: 0.15s; }
#mobileMenu a:nth-child(3) { animation-delay: 0.2s; }
#mobileMenu a:nth-child(4) { animation-delay: 0.25s; }
#mobileMenu a:nth-child(5) { animation-delay: 0.3s; }
#mobileMenu a:nth-child(6) { animation-delay: 0.35s; }

@keyframes slideInFromLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* ==========================================
   FORM ENHANCEMENTS
   ========================================== */
.form-group {
    @apply relative mb-6;
}

.form-input {
    @apply w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500 focus:border-transparent transition-all duration-200;
}

.form-input:focus + .form-label,
.form-input:not(:placeholder-shown) + .form-label {
    @apply text-teal-600 text-sm;
    transform: translateY(-1.5rem) scale(0.9);
}

.form-label {
    @apply absolute left-4 top-3 text-gray-500 transition-all duration-200 pointer-events-none;
    transform-origin: left top;
}

.form-error {
    @apply text-red-500 text-sm mt-1 animate-pulse;
}

/* ==========================================
   BUTTONS AVANZATI
   ========================================== */
.btn-primary {
    @apply bg-gradient-to-r from-teal-600 to-cyan-600 text-white px-6 py-3 rounded-lg font-medium hover:from-teal-700 hover:to-cyan-700 focus:outline-none focus:ring-4 focus:ring-teal-200 transition-all duration-200 transform hover:scale-105;
}

.btn-secondary {
    @apply bg-white text-teal-600 border border-teal-600 px-6 py-3 rounded-lg font-medium hover:bg-teal-50 focus:outline-none focus:ring-4 focus:ring-teal-200 transition-all duration-200;
}

.btn-danger {
    @apply bg-red-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-red-600 focus:outline-none focus:ring-4 focus:ring-red-200 transition-all duration-200;
}

.btn-loading {
    @apply opacity-75 cursor-not-allowed;
}

.btn-loading::before {
    content: '';
    @apply inline-block w-4 h-4 mr-2 border-2 border-white border-t-transparent rounded-full animate-spin;
}

/* ==========================================
   CARDS E CONTENUTI
   ========================================== */
.card {
    @apply bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200;
}

.dark .card {
    @apply bg-gray-800 border-gray-700;
}

.card-header {
    @apply flex items-center justify-between pb-4 border-b border-gray-100 dark:border-gray-700 mb-4;
}

.card-title {
    @apply text-lg font-semibold text-gray-900 dark:text-gray-100;
}

/* ==========================================
   TABELLE RESPONSIVE
   ========================================== */
.table-responsive {
    @apply overflow-x-auto shadow-sm rounded-lg;
}

.table {
    @apply min-w-full divide-y divide-gray-200 dark:divide-gray-700;
}

.table th {
    @apply px-6 py-3 bg-gray-50 dark:bg-gray-700 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider;
}

.table td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100;
}

.table tbody tr:hover {
    @apply bg-gray-50 dark:bg-gray-700 transition-colors duration-150;
}

/* ==========================================
   PAGINATION ENHANCED
   ========================================== */
.pagination {
    @apply flex items-center justify-center space-x-2;
}

.pagination a,
.pagination span {
    @apply px-3 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-lg transition-all duration-200 hover:bg-gray-50 dark:hover:bg-gray-700;
}

.pagination .active {
    @apply bg-gradient-to-r from-teal-600 to-cyan-600 text-white border-transparent;
}

.pagination .disabled {
    @apply opacity-50 cursor-not-allowed pointer-events-none;
}

/* ==========================================
   MODAL E OVERLAY
   ========================================== */
.modal-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4;
    backdrop-filter: blur(4px);
}

.modal {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-lg w-full max-h-screen overflow-y-auto;
    animation: modalSlideIn 0.3s ease-out;
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

.modal-header {
    @apply flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700;
}

.modal-body {
    @apply p-6;
}

.modal-footer {
    @apply flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700;
}

/* ==========================================
   NOTIFICAZIONI TOAST
   ========================================== */
.toast {
    @apply fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg text-white font-medium;
    animation: toastSlideIn 0.3s ease-out;
}

@keyframes toastSlideIn {
    from {
        opacity: 0;
        transform: translateX(100px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.toast.success { @apply bg-green-500; }
.toast.error { @apply bg-red-500; }
.toast.warning { @apply bg-yellow-500; }
.toast.info { @apply bg-blue-500; }

/* ==========================================
   QR CODE STYLING
   ========================================== */
.qr-container {
    @apply p-6 bg-white rounded-lg shadow-sm border-2 border-dashed border-gray-300 text-center;
}

.qr-code {
    @apply mx-auto mb-4 p-4 bg-white rounded-lg shadow-sm;
}

.qr-download-button {
    @apply inline-flex items-center px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors duration-200;
}

/* ==========================================
   IMAGE UPLOAD AREA
   ========================================== */
.image-upload-area {
    @apply border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center cursor-pointer hover:border-teal-500 hover:bg-teal-50 dark:hover:bg-teal-900 transition-all duration-200;
}

.image-upload-area.dragover {
    @apply border-teal-500 bg-teal-50 dark:bg-teal-900;
}

.image-preview-container {
    @apply relative inline-block;
}

.image-preview {
    @apply max-w-full h-auto rounded-lg shadow-sm;
}

.image-remove-button {
    @apply absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors duration-200;
}

/* ==========================================
   LOADING STATES
   ========================================== */
.loading-spinner {
    @apply inline-block w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin;
}

.loading-dots {
    @apply inline-flex space-x-1;
}

.loading-dots::after {
    content: '';
    animation: loadingDots 1.5s infinite;
}

@keyframes loadingDots {
    0%, 20% { content: '.'; }
    40% { content: '..'; }
    60% { content: '...'; }
    80%, 100% { content: ''; }
}

/* ==========================================
   ACCESSIBILITY IMPROVEMENTS
   ========================================== */
.sr-only {
    @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap border-0;
}

:focus-visible {
    @apply outline-none ring-2 ring-teal-500 ring-offset-2 ring-offset-white dark:ring-offset-gray-900;
}

/* ==========================================
   RESPONSIVE IMPROVEMENTS
   ========================================== */
@media (max-width: 640px) {
    .card {
        @apply rounded-lg p-4;
    }

    .modal {
        @apply mx-2 my-4;
    }

    .table-responsive {
        @apply text-sm;
    }

    .table th,
    .table td {
        @apply px-3 py-2;
    }
}

/* ==========================================
   PRINT STYLES
   ========================================== */
@media print {
    .no-print {
        display: none !important;
    }

    .print-only {
        display: block !important;
    }

    body {
        @apply text-gray-900 bg-white;
    }

    .card {
        @apply shadow-none border border-gray-300;
    }
}

/* ==========================================
   DARK MODE SPECIFIC ENHANCEMENTS
   ========================================== */
.dark .form-input {
    @apply bg-gray-700 border-gray-600 text-gray-100;
}

.dark .form-input:focus {
    @apply border-teal-400 ring-teal-400;
}

.dark .image-upload-area:hover {
    @apply border-teal-400 bg-teal-900 bg-opacity-20;
}

.dark :focus-visible {
    @apply ring-teal-400;
}

/* Chrome, Edge, Safari */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input:focus::-webkit-outer-spin-button,
input:focus::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

input:hover::-webkit-outer-spin-button,
input:hover::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}

/* Firefox */
input[type=number] {
    -moz-appearance: textfield;
}
